(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7dc48de"],{"0cc4":function(t,e,n){},1:function(t,e){},"1ec6":function(t,e,n){"use strict";n("97fd")},2:function(t,e){},3:function(t,e){},8039:function(t,e,n){"use strict";n.d(e,"p",(function(){return i})),n.d(e,"G",(function(){return s})),n.d(e,"F",(function(){return r})),n.d(e,"B",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"D",(function(){return g})),n.d(e,"e",(function(){return v})),n.d(e,"j",(function(){return h})),n.d(e,"f",(function(){return b})),n.d(e,"m",(function(){return p})),n.d(e,"H",(function(){return m})),n.d(e,"a",(function(){return y})),n.d(e,"E",(function(){return C})),n.d(e,"i",(function(){return x})),n.d(e,"k",(function(){return S})),n.d(e,"z",(function(){return O})),n.d(e,"y",(function(){return E})),n.d(e,"q",(function(){return w})),n.d(e,"n",(function(){return _})),n.d(e,"o",(function(){return k})),n.d(e,"C",(function(){return j})),n.d(e,"l",(function(){return D})),n.d(e,"A",(function(){return A})),n.d(e,"r",(function(){return L})),n.d(e,"x",(function(){return T})),n.d(e,"w",(function(){return z})),n.d(e,"v",(function(){return B})),n.d(e,"t",(function(){return F})),n.d(e,"s",(function(){return $})),n.d(e,"u",(function(){return W}));n("99af");var a=n("b775");function i(t){return Object(a["a"])({url:"/suggest/downloadSubContentAll",method:"get",params:{tag:t},responseType:"arraybuffer"})}function s(t){return Object(a["a"])({url:"/suggest/attachment",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/suggest/list",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/record/list",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/suggest/".concat(t),method:"get"})}function u(t){return Object(a["a"])({url:"/suggest",method:"post",data:t})}function l(t,e){return Object(a["a"])({url:"/suggest/check/".concat(t),method:"put",data:e})}function d(t){return Object(a["a"])({url:"/suggest/submitCheck/".concat(t),method:"put"})}function f(t){return Object(a["a"])({url:"/suggest/allocation",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/suggest/sign/".concat(t),method:"put"})}function v(t,e){return Object(a["a"])({url:"/suggest/answer/".concat(t),method:"put",data:e})}function h(t,e){return Object(a["a"])({url:"/suggest/completeAnswer/".concat(t),method:"put",data:e})}function b(t){return Object(a["a"])({url:"/SuggestWithdraw",method:"post",data:t})}function p(t,e){return Object(a["a"])({url:"/suggest/disagree/".concat(t),method:"post",data:e})}function m(t){return Object(a["a"])({url:"/SuggestWithdraw/check",method:"post",data:t})}function y(t,e){return Object(a["a"])({url:"/suggest/accomplish/".concat(t,"?completedResultStatus=").concat(e),method:"put"})}function C(){return Object(a["a"])({url:"/member",method:"get"})}function x(){return Object(a["a"])({url:"/member/cascader",method:"get"})}function S(t){return Object(a["a"])({url:"/boards?tag=".concat(t),method:"get"})}function O(t){return Object(a["a"])({url:"/suggest/reAlloc?id=".concat(t),method:"post"})}function E(t){return Object(a["a"])({url:"/suggest/export",method:"POST",responseType:"arraybuffer",data:t})}function w(t){return Object(a["a"])({url:"/suggest/download",method:"get",responseType:"arraybuffer",params:{id:t}})}function _(t){return Object(a["a"])({url:"/suggest/downloadManYiDu",method:"get",responseType:"arraybuffer",params:{id:t}})}function k(t){return Object(a["a"])({url:"/suggest/downloadSubContent",method:"get",responseType:"arraybuffer",params:{id:t}})}function j(t){return Object(a["a"])({url:"/suggest/gradeAnswer",method:"post",responseType:"arraybuffer",data:t})}function D(t){return Object(a["a"])({url:"/suggest/".concat(t),method:"DELETE"})}function A(t){return Object(a["a"])({url:"/suggest/reOrdering",method:"PUT",params:{tag:t}})}function L(t,e,n){return Object(a["a"])({url:"/suggest/exportAllSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:n}})}function T(t,e,n){return Object(a["a"])({url:"/suggest/exportManYiDuSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:n}})}function z(t,e,n){return Object(a["a"])({url:"/suggest/exportFirstUnitSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:n}})}function B(t,e,n){return Object(a["a"])({url:"/suggest/exportFirstUnitDetailSuggests",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:n}})}function F(t,e,n){return Object(a["a"])({url:"/suggest/exportCategorySuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:n}})}function $(t,e,n){return Object(a["a"])({url:"/suggest/exportCategoryDetailSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:n}})}function W(t,e,n){return Object(a["a"])({url:"/suggest/exportCompletedTypeSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:n}})}},9406:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container"},[n("div",{staticClass:"top"},[n("div",{staticClass:"normal",staticStyle:{width:"25%"}},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v(t._s(t.tag)+"会议建议数量")]),n("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportAllSuggestsExcel(2)}}},[t._v("导出")]):t._e()],1)]),n("div",{staticClass:"status"},[n("div",{staticClass:"date"},[t._v(t._s(t.today))]),n("div",{staticClass:"total"},[t._v(t._s(t.currentMonthTotal)+"条")])])]),n("div",{staticClass:"normal",staticStyle:{width:"25%"}},[t._m(0),n("div",{staticClass:"batch"},[n("div",{staticClass:"once"},[t._v(" 一次回复 "),n("div",{staticClass:"box"},[n("div",{staticClass:"line"},[n("div",{staticClass:"schedule",style:{width:t.once.percent,"background-Color":"#DA897E"}})]),n("div",{staticClass:"tip"},[t._v("共"+t._s(t.once.value)+"条")])])]),n("div",{staticClass:"twice"},[t._v(" 二次回复 "),n("div",{staticClass:"box"},[n("div",{staticClass:"line"},[n("div",{staticClass:"schedule",style:{width:t.twice.percent,"background-Color":"#8324B6"}})]),n("div",{staticClass:"tip"},[t._v("共"+t._s(t.twice.value)+"条")])])])])]),n("div",{staticClass:"satisfaction normal",staticStyle:{width:"50%"}},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("满意度")]),n("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportManYiDuSuggestsExcel()}}},[t._v("导出")]):t._e()],1)]),n("div",{staticClass:"chart",staticStyle:{padding:"0 5%"}},[n("div",{ref:"satisfied",staticStyle:{width:"30%"}}),n("div",{ref:"general",staticStyle:{width:"30%"}}),n("div",{ref:"pardonChart",staticStyle:{width:"30%"}}),n("div",{ref:"dissatisfied",staticStyle:{width:"30%"}})])])]),n("div",{staticClass:"charts",staticStyle:{height:"178px"}},[n("div",{staticClass:"info",staticStyle:{width:"51.5%",height:"100%","margin-top":"-0.5px"}},[n("div",{staticClass:"normal",staticStyle:{width:"100%"}},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("公告栏")]),n("div",{staticClass:"unit",staticStyle:{color:"#035cbd"}},[t._v(" 共"+t._s(t.notifyList.totalCount)+"条 ")])]),n("div",{staticClass:"list"},t._l(t.notifyList.list,(function(e){return n("div",{key:e.id,staticClass:"advice"},[n("div",{staticClass:"title",on:{click:function(n){return t.dowonLoadFile(e)}}},[t._v(" "+t._s(e.name)+" ")]),n("div",[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){return t.dowonLoadFile(e)}}},[t._v("下载")])],1)])})),0)])]),n("div",{staticClass:"status normal",staticStyle:{width:"48.5%"}},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("办结类型（部门统计）")]),n("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.btnExportCompletedTypeSuggestsExcel()}}},[t._v("导出(主办单位办结类型)")]):t._e()],1)]),n("div",{staticClass:"chart",staticStyle:{padding:"0 5%"}},[n("div",{ref:"resolvedDiv",staticStyle:{width:"30%"}}),n("div",{ref:"plainingDiv",staticStyle:{width:"30%"}}),n("div",{ref:"explainDiv",staticStyle:{width:"30%"}}),n("div",{ref:"referToDiv",staticStyle:{width:"30%"}})])])]),n("div",{staticClass:"charts"},[n("div",{staticClass:"status normal"},[t._m(1),n("div",{ref:"status",staticClass:"chart"})]),n("div",{staticClass:"box"},[n("div",{staticClass:"normal"},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("当届建议统计数量(届次)")]),n("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportAllSuggestsExcel(0)}}},[t._v("导出")]):t._e()],1)]),n("div",{ref:"statistics",staticClass:"chart"})])])]),n("div",{staticClass:"charts"},[n("div",{staticClass:"box"},[n("div",{staticClass:"normal"},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("各部门办理数量")]),n("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportFirstUnitSuggestsExcel("users",["办理单位","数量"],"部门办理数量")}}},[t._v("导出(简表)")]):t._e(),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.btnExportFirstUnitDetailSuggestsExcel("users",["办理单位","数量"],"部门办理数量")}}},[t._v("导出(详表)")]):t._e()],1)]),n("div",{ref:"handle",staticClass:"chart"})]),n("div",{staticClass:"normal"},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("分类建议数量")]),n("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportCategorySuggestsExcel("users",["办理单位","数量"],"单位办理数量")}}},[t._v("导出(简表)")]):t._e(),t.hasExportRight?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.btnExportCategoryDetailSuggestsExcel("users",["办理单位","数量"],"单位办理数量")}}},[t._v("导出(详表)")]):t._e()],1)]),n("div",{ref:"categories",staticClass:"chart"})])])]),n("div",{staticClass:"info"},[n("div",{staticClass:"normal"},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("处理中建议")]),n("div",{staticClass:"unit",staticStyle:{color:"#035cbd"}},[t._v("共"+t._s(t.list1.length)+"条")])]),n("div",{staticClass:"list"},t._l(t.list1,(function(e){return n("div",{key:e.id,staticClass:"advice",on:{click:function(n){return t.checkDetail(e.id)}}},[n("div",{staticClass:"tag",staticStyle:{"background-color":"#5b8cff"}},[t._v("处理中")]),n("div",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"name"},[t._v(t._s(e.proposer))])])})),0)]),n("div",{staticClass:"normal"},[n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("已办结建议")]),n("div",{staticClass:"unit",staticStyle:{color:"#c03535"}},[t._v("共"+t._s(t.list2.length)+"条")])]),n("div",{staticClass:"list"},t._l(t.list2,(function(e){return n("div",{key:e.id,staticClass:"advice",on:{click:function(n){return t.checkDetail(e.id)}}},[n("div",{staticClass:"tag",staticStyle:{"background-color":"#b30505"}},[t._v("已办理")]),n("div",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"name"},[t._v(t._s(e.proposer))])])})),0)])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("处理批次统计")]),n("div",{staticClass:"unit"},[t._v("单位：条")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("div",{staticClass:"name"},[t._v("各状态分布")]),n("div",{staticClass:"unit"},[t._v("单位：条")])])}],s=(n("c19f"),n("ace4"),n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),n("b64b"),n("e9c4"),n("b0c0"),n("7db0"),n("99af"),n("4de4"),n("313e")),r=n("b082"),o=n("8039"),c=n("1146"),u=n.n(c),l=n("21a6"),d=n("e350"),f=n("ed08"),g={name:"Dashboard",data:function(){return{currentRole:"adminDashboard",currentMonthTotal:0,today:(new Date).getFullYear()+"."+((new Date).getMonth()+1)+"."+(new Date).getDate(),once:{value:0,percent:"0%"},twice:{value:0,percent:"0%"},list1:[],list2:[],staffList:[],tag:"",notifyList:{}}},computed:{isDangZhengBan:function(){return Object(d["b"])(["dzb"])},isRenDaDaiBiao:function(){return Object(d["b"])(["rd"])},isLianLuoYuan:function(){return Object(d["b"])(["Liaison"])},isRenDaiLian:function(){return Object(d["b"])(["Committee","Allocation"])},isBanLiDanWei:function(){return Object(d["b"])(["Process"])},isAdmin:function(){return Object(d["b"])(["admin"])},hasExportRight:function(){return this.isAdmin||this.isRenDaiLian}},mounted:function(){this.tag=sessionStorage.getItem("tag"),this.getLayout()},methods:{s2ab:function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),a=0;a!=t.length;++a)n[a]=255&t.charCodeAt(a);return e},exportExcel:function(t,e,n){var a=this,i=this.$loading({text:"正在导出"});Object(o["k"])(this.tag).then((function(s){var r=s.data[t],o=[e];for(var c in r)console.info(r),o.push([(r[c].key||"").length>0?r[c].key:"默认",r[c].value]);var d=u.a.utils.aoa_to_sheet(o),f=u.a.utils.book_new();u.a.utils.book_append_sheet(f,d,"Sheet");var g=u.a.write(f,{bookType:"xlsx",bookSST:!1,type:"binary"});Object(l["saveAs"])(new Blob([a.s2ab(g)],{type:"application/octet-stream"}),n+".xlsx"),i.close()})).catch((function(t){console.info(t),i.close()}))},getLayout:function(){var t=this,e=s["init"](this.$refs.status),n=s["init"](this.$refs.satisfied),a=s["init"](this.$refs.general),i=s["init"](this.$refs.dissatisfied),c=s["init"](this.$refs.statistics),u=s["init"](this.$refs.handle),l=s["init"](this.$refs.pardonChart);Object(o["E"])().then((function(e){e.success?(e.data.forEach((function(t){t.id=JSON.parse(t.id)})),t.staffList=e.data):t.$message.error("获取人员列表失败！")})),Object(o["F"])({pageIndex:1,pageSize:10,tag:sessionStorage.getItem("tag"),status:[4,6],myTransaction:!1,kw:""}).then((function(e){e.success?(e.data.list.forEach((function(e){t.staffList.forEach((function(t){JSON.stringify(t.id)===e.first&&(e.proposer=t.name)}))})),t.list1=e.data.list):t.$message.error(e.msg)})),Object(o["F"])({pageIndex:1,pageSize:100,tag:sessionStorage.getItem("tag"),status:[9],myTransaction:!1,kw:""}).then((function(e){e.success?(e.data.list.forEach((function(e){t.staffList.forEach((function(t){JSON.stringify(t.id)===e.first&&(e.proposer=t.name)}))})),t.list2=e.data.list):t.$message.error(e.msg)})),Object(o["k"])(this.tag).then((function(s){if(s.success){t.currentMonthTotal=s.data.currentMonthTotal;var r=0;s.data.status.find((function(t){return 5===t.key}))&&(t.once.value=s.data.status.find((function(t){return 5===t.key})).value),s.data.status.find((function(t){return 7===t.key}))&&(t.twice.value=s.data.status.find((function(t){return 7===t.key})).value),r=t.once.value+t.twice.value,r&&(t.once.percent=Math.round(t.once.value/r*100)+"%",t.twice.percent=Math.round(t.twice.value/r*100)+"%");var o=[{value:0,name:"未提交"},{value:0,name:"待审核"},{value:0,name:"待分配"},{value:0,name:"待签收"},{value:0,name:"第一次处理中"},{value:0,name:"第一次已答复"},{value:0,name:"第二次处理中"},{value:0,name:"第二次已答复"},{value:0,name:"已办结"}];s.data.status.forEach((function(t){0===t.key?o[0].value=t.value:1===t.key?o[1].value=t.value:2===t.key?o[2].value=t.value:3===t.key?o[3].value=t.value:4===t.key?o[4].value=t.value:5===t.key?o[5].value=t.value:6===t.key?o[6].value=t.value:7===t.key?o[7].value=t.value:9===t.key&&(o[8].value=t.value)}));var d={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{itemWidth:15,icon:"circle",bottom:"5%",left:"center"},color:["#035CBD","#1969C1","#2F78C7","#4585CC","#5C94D2","#72A2D8","#88B1DE","#9DBEE2","#B5CDE9","#E0E9F3"],series:[{name:"当前状态",type:"pie",radius:["30%","50%"],avoidLabelOverlap:!1,center:["50%","40%"],label:{show:!1,position:"center",formatter:"{d}%"},emphasis:{label:{show:!0,fontSize:"10",fontWeight:"bold"}},labelLine:{show:!1},data:o}]};d&&e.setOption(d);var f=0,g=0,v=0,h=0,b=0;s.data.grades.find((function(t){return 1===t.key}))&&(f=s.data.grades.find((function(t){return 1===t.key})).value||0),s.data.grades.find((function(t){return 2===t.key}))&&(g=s.data.grades.find((function(t){return 2===t.key})).value||0),s.data.grades.find((function(t){return 3===t.key}))&&(v=s.data.grades.find((function(t){return 3===t.key})).value||0),s.data.grades.find((function(t){return 88===t.key}))&&(b=s.data.grades.find((function(t){return 88===t.key})).value||0),h=f+g+v+b;var p={title:[{text:"满意",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!1,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#FFC246","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:f,name:JSON.stringify(f),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-f,name:" "}]}]};p&&n.setOption(p);var m={title:[{text:"基本满意",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!1,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#07BEAA","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:g,name:JSON.stringify(g),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-g,name:" "}]}]};m&&a.setOption(m);var y={title:[{text:"不满意",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!0,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#B30505","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:v,name:JSON.stringify(v),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-v,name:" "}]}]};y&&i.setOption(y);var C={title:[{text:"谅解",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!0,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#31C400","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:b,name:JSON.stringify(b),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-b,name:" "}]}]};l.setOption(C);var x=[],S=[];s.data.mettings.forEach((function(t){x.push(t.key),S.push(t.value)}));var O={xAxis:{type:"category",data:x},yAxis:{type:"value"},tooltip:{show:!0,formatter:"{b0}<br /> 统计数量：共{c0}条"},series:[{data:S,type:"bar",barMaxWidth:20,smooth:!0,itemStyle:{normal:{color:"#07BEAA",lineStyle:{color:"#07BEAA"}}}}]};O&&c.setOption(O);var E=[["amount","product"]];s.data.users.forEach((function(t){var e=[t.value,t.key]||!1;E.push(e)}));var w={dataset:{source:E},grid:{containLabel:!0},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},restore:{}}},tooltip:{show:!0,formatter:function(t,e,n){return"".concat(t.value[1],"<br /> 统计数量：共").concat(t.value[0],"条")}},xAxis:{name:"",type:"category",axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#dadada"}},axisLabel:{textStyle:{color:"#000"}}},series:[{type:"bar",barWidth:30,barCategoryGap:"-100%",encode:{x:"product",y:"amount"},itemStyle:{normal:{color:function(t){var e=["#07BEAA","#6C84E2"];return e[t.dataIndex%2]},label:{show:!0,position:"top",formatter:function(t){return t.value[0]+"条"},textStyle:{color:"black",fontSize:12}}}}}],dataZoom:{type:"slider",show:!0,startValue:0,endValue:10,handleSize:8}};w&&u.setOption(w),t.buildCategoriesChart(s),t.buildCompletedChart(s)}else t.$message.error(s.msg)})),Object(r["c"])().then((function(e){t.notifyList=e}))},buildCategoriesChart:function(t){var e=s["init"](this.$refs.categories),n=[["amount","product"]];t.data.categories.forEach((function(t){var e=[t.value,t.key]||!1;n.push(e)}));var a={dataset:{source:n},grid:{containLabel:!0},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},restore:{}}},xAxis:{name:"",type:"category",axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#dadada"}},axisLabel:{textStyle:{color:"#000"}}},tooltip:{show:!0,formatter:function(t,e,n){return"".concat(t.value[1]||"","<br /> 统计数量：共").concat(t.value[0],"条")}},series:[{type:"bar",barWidth:30,encode:{x:"product",y:"amount"},itemStyle:{normal:{color:function(t){var e=["#07BEAA","#6C84E2"];return e[t.dataIndex%2]},label:{show:!0,position:"top",formatter:function(t){return t.value[0]+"条"},textStyle:{color:"black",fontSize:12}}}}}]};e.setOption(a)},buildCompletedChart:function(t){var e=t.data.completedTyies,n=e.filter((function(t){return 1===t.key}))[0].value,a=e.filter((function(t){return 2===t.key}))[0].value,i=e.filter((function(t){return 3===t.key}))[0].value,r=e.filter((function(t){return 4===t.key}))[0].value,o=n+a+i+r;s["init"](this.$refs["resolvedDiv"]).setOption(this.getPieChartOptions(o,n,"已解决","#FFC246")),s["init"](this.$refs["plainingDiv"]).setOption(this.getPieChartOptions(o,a,"纳入计划","#07BEAA")),s["init"](this.$refs["explainDiv"]).setOption(this.getPieChartOptions(o,i,"解释","#31C400")),s["init"](this.$refs["referToDiv"]).setOption(this.getPieChartOptions(o,r,"留作参考","#B30505"))},getPieChartOptions:function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i={title:[{text:n,left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!1,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:[a,"#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:e,name:e+"",label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:t-e,name:" "}]}]};return JSON.parse(JSON.stringify(i))},checkDetail:function(t){this.$router.push({name:"SuggestDetail",query:{id:t}})},btnExportAllSuggestsExcel:function(t){var e=this,n=null,a=null,i=sessionStorage.getItem("tag");if(1*t===1){var s=new Date;s.setDate(1),n=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),a=new Date(new Date(n.getFullYear(),n.getMonth()+1,1).getTime()-864e5)}Object(o["r"])(Object(f["e"])(n,"{y}/{m}/{d}"),Object(f["e"])(a,"{y}/{m}/{d}"),i).then((function(t){Object(f["c"])(t,e.tag+"_建议导出.xlsx")}))},btnExportManYiDuSuggestsExcel:function(){var t=null,e=null,n=sessionStorage.getItem("tag");Object(o["x"])(t,e,n).then((function(t){Object(f["c"])(t,"满意度建议导出.xlsx")}))},btnExportFirstUnitSuggestsExcel:function(){var t=null,e=null,n=sessionStorage.getItem("tag");Object(o["w"])(t,e,n).then((function(t){Object(f["c"])(t,"部门办理数量(简表)导出.xlsx")}))},btnExportFirstUnitDetailSuggestsExcel:function(){var t=null,e=null,n=sessionStorage.getItem("tag");Object(o["v"])(t,e,n).then((function(t){Object(f["c"])(t,"部门办理数量(详表)导出.xlsx")}))},btnExportCategorySuggestsExcel:function(){var t=null,e=null,n=sessionStorage.getItem("tag");Object(o["t"])(t,e,n).then((function(t){Object(f["c"])(t,"建议分类(简表)导出.xlsx")}))},btnExportCategoryDetailSuggestsExcel:function(){var t=null,e=null,n=sessionStorage.getItem("tag");Object(o["s"])(t,e,n).then((function(t){Object(f["c"])(t,"建议分类(详表)导出.xlsx")}))},btnExportCompletedTypeSuggestsExcel:function(){var t=null,e=null,n=sessionStorage.getItem("tag");Object(o["u"])(t,e,n).then((function(t){Object(f["c"])(t,"建议分类(主办单位 办结类型)导出.xlsx")}))},dowonLoadFile:function(t){window.open("/api/noticeBanner/download/".concat(t.id))}}},v=g,h=(n("1ec6"),n("e133"),n("2877")),b=Object(h["a"])(v,a,i,!1,null,"374217dc",null);e["default"]=b.exports},"97fd":function(t,e,n){},b082:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return c}));var a=n("b775");function i(t){return Object(a["a"])({url:"/noticeBanner",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/noticeBanner/".concat(t),method:"get"})}function r(t){return Object(a["a"])({url:"/noticeBanner",method:"post",data:t})}function o(t,e){return Object(a["a"])({url:"/noticeBanner/".concat(t),method:"put",data:e})}function c(t){return Object(a["a"])({url:"/noticeBanner/".concat(t),method:"DELETE"})}},e133:function(t,e,n){"use strict";n("0cc4")},e350:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));n("d3b7"),n("caad"),n("2532");var a=n("4360");function i(t){if(t&&t instanceof Array&&t.length>0){var e=a["a"].getters&&a["a"].getters.roles,n=t,i=e.some((function(t){return n.includes(t)}));return i}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}function s(t){if(t){var e=a["a"].getters&&a["a"].getters.code;return t===e}return console.error("部门编号为空"),!1}}}]);