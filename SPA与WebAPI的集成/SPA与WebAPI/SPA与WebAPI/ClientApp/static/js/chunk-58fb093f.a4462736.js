(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58fb093f"],{1:function(t,e){},2:function(t,e){},3:function(t,e){},8039:function(t,e,a){"use strict";a.d(e,"p",(function(){return i})),a.d(e,"G",(function(){return s})),a.d(e,"F",(function(){return r})),a.d(e,"B",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"h",(function(){return l})),a.d(e,"g",(function(){return d})),a.d(e,"d",(function(){return f})),a.d(e,"D",(function(){return g})),a.d(e,"e",(function(){return v})),a.d(e,"j",(function(){return h})),a.d(e,"f",(function(){return b})),a.d(e,"m",(function(){return p})),a.d(e,"H",(function(){return m})),a.d(e,"a",(function(){return y})),a.d(e,"E",(function(){return C})),a.d(e,"i",(function(){return x})),a.d(e,"k",(function(){return S})),a.d(e,"z",(function(){return O})),a.d(e,"y",(function(){return E})),a.d(e,"q",(function(){return w})),a.d(e,"n",(function(){return _})),a.d(e,"o",(function(){return k})),a.d(e,"C",(function(){return j})),a.d(e,"l",(function(){return A})),a.d(e,"A",(function(){return D})),a.d(e,"r",(function(){return L})),a.d(e,"x",(function(){return T})),a.d(e,"w",(function(){return z})),a.d(e,"v",(function(){return B})),a.d(e,"t",(function(){return F})),a.d(e,"s",(function(){return $})),a.d(e,"u",(function(){return W}));a("99af");var n=a("b775");function i(t){return Object(n["a"])({url:"/suggest/downloadSubContentAll",method:"get",params:{tag:t},responseType:"arraybuffer"})}function s(t){return Object(n["a"])({url:"/suggest/attachment",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/suggest/list",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/record/list",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/suggest/".concat(t),method:"get"})}function u(t){return Object(n["a"])({url:"/suggest",method:"post",data:t})}function l(t,e){return Object(n["a"])({url:"/suggest/check/".concat(t),method:"put",data:e})}function d(t){return Object(n["a"])({url:"/suggest/submitCheck/".concat(t),method:"put"})}function f(t){return Object(n["a"])({url:"/suggest/allocation",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/suggest/sign/".concat(t),method:"put"})}function v(t,e){return Object(n["a"])({url:"/suggest/answer/".concat(t),method:"put",data:e})}function h(t,e){return Object(n["a"])({url:"/suggest/completeAnswer/".concat(t),method:"put",data:e})}function b(t){return Object(n["a"])({url:"/SuggestWithdraw",method:"post",data:t})}function p(t,e){return Object(n["a"])({url:"/suggest/disagree/".concat(t),method:"post",data:e})}function m(t){return Object(n["a"])({url:"/SuggestWithdraw/check",method:"post",data:t})}function y(t,e){return Object(n["a"])({url:"/suggest/accomplish/".concat(t,"?completedResultStatus=").concat(e),method:"put"})}function C(){return Object(n["a"])({url:"/member",method:"get"})}function x(){return Object(n["a"])({url:"/member/cascader",method:"get"})}function S(t){return Object(n["a"])({url:"/boards?tag=".concat(t),method:"get"})}function O(t){return Object(n["a"])({url:"/suggest/reAlloc?id=".concat(t),method:"post"})}function E(t){return Object(n["a"])({url:"/suggest/export",method:"POST",responseType:"arraybuffer",data:t})}function w(t){return Object(n["a"])({url:"/suggest/download",method:"get",responseType:"arraybuffer",params:{id:t}})}function _(t){return Object(n["a"])({url:"/suggest/downloadManYiDu",method:"get",responseType:"arraybuffer",params:{id:t}})}function k(t){return Object(n["a"])({url:"/suggest/downloadSubContent",method:"get",responseType:"arraybuffer",params:{id:t}})}function j(t){return Object(n["a"])({url:"/suggest/gradeAnswer",method:"post",responseType:"arraybuffer",data:t})}function A(t){return Object(n["a"])({url:"/suggest/".concat(t),method:"DELETE"})}function D(t){return Object(n["a"])({url:"/suggest/reOrdering",method:"PUT",params:{tag:t}})}function L(t,e,a){return Object(n["a"])({url:"/suggest/exportAllSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:a}})}function T(t,e,a){return Object(n["a"])({url:"/suggest/exportManYiDuSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:a}})}function z(t,e,a){return Object(n["a"])({url:"/suggest/exportFirstUnitSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:a}})}function B(t,e,a){return Object(n["a"])({url:"/suggest/exportFirstUnitDetailSuggests",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:a}})}function F(t,e,a){return Object(n["a"])({url:"/suggest/exportCategorySuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:a}})}function $(t,e,a){return Object(n["a"])({url:"/suggest/exportCategoryDetailSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:a}})}function W(t,e,a){return Object(n["a"])({url:"/suggest/exportCompletedTypeSuggestsExcel",method:"get",responseType:"arraybuffer",params:{begin:t,end:e,tag:a}})}},8913:function(t,e,a){"use strict";a("cefc")},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"top"},[a("div",{staticClass:"normal",staticStyle:{width:"25%"}},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v(t._s(t.tag)+"会议建议数量")]),a("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportAllSuggestsExcel(2)}}},[t._v("导出")]):t._e()],1)]),a("div",{staticClass:"status"},[a("div",{staticClass:"date"},[t._v(t._s(t.today))]),a("div",{staticClass:"total"},[t._v(t._s(t.currentMonthTotal)+"条")])])]),a("div",{staticClass:"normal",staticStyle:{width:"25%"}},[t._m(0),a("div",{staticClass:"batch"},[a("div",{staticClass:"once"},[t._v(" 一次回复 "),a("div",{staticClass:"box"},[a("div",{staticClass:"line"},[a("div",{staticClass:"schedule",style:{width:t.once.percent,"background-Color":"#DA897E"}})]),a("div",{staticClass:"tip"},[t._v("共"+t._s(t.once.value)+"条")])])]),a("div",{staticClass:"twice"},[t._v(" 二次回复 "),a("div",{staticClass:"box"},[a("div",{staticClass:"line"},[a("div",{staticClass:"schedule",style:{width:t.twice.percent,"background-Color":"#8324B6"}})]),a("div",{staticClass:"tip"},[t._v("共"+t._s(t.twice.value)+"条")])])])])]),a("div",{staticClass:"satisfaction normal",staticStyle:{width:"50%"}},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("满意度")]),a("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportManYiDuSuggestsExcel()}}},[t._v("导出")]):t._e()],1)]),a("div",{staticClass:"chart",staticStyle:{padding:"0 5%"}},[a("div",{ref:"satisfied",staticStyle:{width:"30%"}}),a("div",{ref:"general",staticStyle:{width:"30%"}}),a("div",{ref:"pardonChart",staticStyle:{width:"30%"}}),a("div",{ref:"dissatisfied",staticStyle:{width:"30%"}})])])]),a("div",{staticClass:"charts",staticStyle:{height:"178px"}},[a("div",{staticClass:"info",staticStyle:{width:"51.5%",height:"100%","margin-top":"-0.5px"}},[a("div",{staticClass:"normal",staticStyle:{width:"100%"}},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("公告栏")]),a("div",{staticClass:"unit",staticStyle:{color:"#035cbd"}},[t._v(" 共"+t._s(t.notifyList.totalCount)+"条 ")])]),a("div",{staticClass:"list"},t._l(t.notifyList.list,(function(e){return a("div",{key:e.id,staticClass:"advice"},[a("div",{staticClass:"title",on:{click:function(a){return t.dowonLoadFile(e)}}},[t._v(" "+t._s(e.name)+" ")]),a("div",[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.dowonLoadFile(e)}}},[t._v("下载")])],1)])})),0)])]),a("div",{staticClass:"status normal",staticStyle:{width:"48.5%"}},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("办结类型（部门统计）")]),a("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.btnExportCompletedTypeSuggestsExcel()}}},[t._v("导出(主办单位办结类型)")]):t._e()],1)]),a("div",{staticClass:"chart",staticStyle:{padding:"0 5%"}},[a("div",{ref:"resolvedDiv",staticStyle:{width:"30%"}}),a("div",{ref:"plainingDiv",staticStyle:{width:"30%"}}),a("div",{ref:"explainDiv",staticStyle:{width:"30%"}}),a("div",{ref:"referToDiv",staticStyle:{width:"30%"}})])])]),a("div",{staticClass:"charts"},[a("div",{staticClass:"status normal"},[t._m(1),a("div",{ref:"status",staticClass:"chart"})]),a("div",{staticClass:"box"},[a("div",{staticClass:"normal"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("当届建议统计数量(届次)")]),a("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportAllSuggestsExcel(0)}}},[t._v("导出")]):t._e()],1)]),a("div",{ref:"statistics",staticClass:"chart"})])])]),a("div",{staticClass:"charts"},[a("div",{staticClass:"box"},[a("div",{staticClass:"normal"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("各部门办理数量")]),a("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportFirstUnitSuggestsExcel("users",["办理单位","数量"],"部门办理数量")}}},[t._v("导出(简表)")]):t._e(),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.btnExportFirstUnitDetailSuggestsExcel("users",["办理单位","数量"],"部门办理数量")}}},[t._v("导出(详表)")]):t._e()],1)]),a("div",{ref:"handle",staticClass:"chart"})]),a("div",{staticClass:"normal"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("分类建议数量")]),a("div",{staticClass:"unit"},[t._v(" 单位：条 "),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.btnExportCategorySuggestsExcel("users",["办理单位","数量"],"单位办理数量")}}},[t._v("导出(简表)")]):t._e(),t.hasExportRight?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.btnExportCategoryDetailSuggestsExcel("users",["办理单位","数量"],"单位办理数量")}}},[t._v("导出(详表)")]):t._e()],1)]),a("div",{ref:"categories",staticClass:"chart"})])])]),a("div",{staticClass:"info"},[a("div",{staticClass:"normal"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("处理中建议")]),a("div",{staticClass:"unit",staticStyle:{color:"#035cbd"}},[t._v("共"+t._s(t.list1.length)+"条")])]),a("div",{staticClass:"list"},t._l(t.list1,(function(e){return a("div",{key:e.id,staticClass:"advice",on:{click:function(a){return t.checkDetail(e.id)}}},[a("div",{staticClass:"tag",staticStyle:{"background-color":"#5b8cff"}},[t._v("处理中")]),a("div",{staticClass:"title"},[t._v(t._s(e.title))]),a("div",{staticClass:"name"},[t._v(t._s(e.proposer))])])})),0)]),a("div",{staticClass:"normal"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("已办结建议")]),a("div",{staticClass:"unit",staticStyle:{color:"#c03535"}},[t._v("共"+t._s(t.list2.length)+"条")])]),a("div",{staticClass:"list"},t._l(t.list2,(function(e){return a("div",{key:e.id,staticClass:"advice",on:{click:function(a){return t.checkDetail(e.id)}}},[a("div",{staticClass:"tag",staticStyle:{"background-color":"#b30505"}},[t._v("已办理")]),a("div",{staticClass:"title"},[t._v(t._s(e.title))]),a("div",{staticClass:"name"},[t._v(t._s(e.proposer))])])})),0)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("处理批次统计")]),a("div",{staticClass:"unit"},[t._v("单位：条")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("各状态分布")]),a("div",{staticClass:"unit"},[t._v("单位：条")])])}],s=(a("c19f"),a("ace4"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("159b"),a("b64b"),a("e9c4"),a("b0c0"),a("7db0"),a("99af"),a("4de4"),a("313e")),r=a("b082"),o=a("8039"),c=a("1146"),u=a.n(c),l=a("21a6"),d=a("e350"),f=a("ed08"),g={name:"Dashboard",data:function(){return{currentRole:"adminDashboard",currentMonthTotal:0,today:(new Date).getFullYear()+"."+((new Date).getMonth()+1)+"."+(new Date).getDate(),once:{value:0,percent:"0%"},twice:{value:0,percent:"0%"},list1:[],list2:[],staffList:[],tag:"",notifyList:{}}},computed:{isRenDaDaiBiao:function(){return Object(d["b"])(["rd"])},isLianLuoYuan:function(){return Object(d["b"])(["Liaison"])},isRenDaiLian:function(){return Object(d["b"])(["Committee","Allocation"])},isBanLiDanWei:function(){return Object(d["b"])(["Process"])},isAdmin:function(){return Object(d["b"])(["admin"])},hasExportRight:function(){return this.isAdmin||this.isRenDaiLian}},mounted:function(){this.tag=sessionStorage.getItem("tag"),this.getLayout()},methods:{s2ab:function(t){for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),n=0;n!=t.length;++n)a[n]=255&t.charCodeAt(n);return e},exportExcel:function(t,e,a){var n=this,i=this.$loading({text:"正在导出"});Object(o["k"])(this.tag).then((function(s){var r=s.data[t],o=[e];for(var c in r)console.info(r),o.push([(r[c].key||"").length>0?r[c].key:"默认",r[c].value]);var d=u.a.utils.aoa_to_sheet(o),f=u.a.utils.book_new();u.a.utils.book_append_sheet(f,d,"Sheet");var g=u.a.write(f,{bookType:"xlsx",bookSST:!1,type:"binary"});Object(l["saveAs"])(new Blob([n.s2ab(g)],{type:"application/octet-stream"}),a+".xlsx"),i.close()})).catch((function(t){console.info(t),i.close()}))},getLayout:function(){var t=this,e=s["init"](this.$refs.status),a=s["init"](this.$refs.satisfied),n=s["init"](this.$refs.general),i=s["init"](this.$refs.dissatisfied),c=s["init"](this.$refs.statistics),u=s["init"](this.$refs.handle),l=s["init"](this.$refs.pardonChart);Object(o["E"])().then((function(e){e.success?(e.data.forEach((function(t){t.id=JSON.parse(t.id)})),t.staffList=e.data):t.$message.error("获取人员列表失败！")})),Object(o["F"])({pageIndex:1,pageSize:10,tag:sessionStorage.getItem("tag"),status:[4,6],myTransaction:!1,kw:""}).then((function(e){e.success?(e.data.list.forEach((function(e){t.staffList.forEach((function(t){JSON.stringify(t.id)===e.first&&(e.proposer=t.name)}))})),t.list1=e.data.list):t.$message.error(e.msg)})),Object(o["F"])({pageIndex:1,pageSize:100,tag:sessionStorage.getItem("tag"),status:[9],myTransaction:!1,kw:""}).then((function(e){e.success?(e.data.list.forEach((function(e){t.staffList.forEach((function(t){JSON.stringify(t.id)===e.first&&(e.proposer=t.name)}))})),t.list2=e.data.list):t.$message.error(e.msg)})),Object(o["k"])(this.tag).then((function(s){if(s.success){t.currentMonthTotal=s.data.currentMonthTotal;var r=0;s.data.status.find((function(t){return 5===t.key}))&&(t.once.value=s.data.status.find((function(t){return 5===t.key})).value),s.data.status.find((function(t){return 7===t.key}))&&(t.twice.value=s.data.status.find((function(t){return 7===t.key})).value),r=t.once.value+t.twice.value,r&&(t.once.percent=Math.round(t.once.value/r*100)+"%",t.twice.percent=Math.round(t.twice.value/r*100)+"%");var o=[{value:0,name:"未提交"},{value:0,name:"待审核"},{value:0,name:"待分配"},{value:0,name:"待签收"},{value:0,name:"第一次处理中"},{value:0,name:"第一次已答复"},{value:0,name:"第二次处理中"},{value:0,name:"第二次已答复"},{value:0,name:"已办结"}];s.data.status.forEach((function(t){0===t.key?o[0].value=t.value:1===t.key?o[1].value=t.value:2===t.key?o[2].value=t.value:3===t.key?o[3].value=t.value:4===t.key?o[4].value=t.value:5===t.key?o[5].value=t.value:6===t.key?o[6].value=t.value:7===t.key?o[7].value=t.value:9===t.key&&(o[8].value=t.value)}));var d={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{itemWidth:15,icon:"circle",bottom:"5%",left:"center"},color:["#035CBD","#1969C1","#2F78C7","#4585CC","#5C94D2","#72A2D8","#88B1DE","#9DBEE2","#B5CDE9","#E0E9F3"],series:[{name:"当前状态",type:"pie",radius:["30%","50%"],avoidLabelOverlap:!1,center:["50%","40%"],label:{show:!1,position:"center",formatter:"{d}%"},emphasis:{label:{show:!0,fontSize:"10",fontWeight:"bold"}},labelLine:{show:!1},data:o}]};d&&e.setOption(d);var f=0,g=0,v=0,h=0,b=0;s.data.grades.find((function(t){return 1===t.key}))&&(f=s.data.grades.find((function(t){return 1===t.key})).value||0),s.data.grades.find((function(t){return 2===t.key}))&&(g=s.data.grades.find((function(t){return 2===t.key})).value||0),s.data.grades.find((function(t){return 3===t.key}))&&(v=s.data.grades.find((function(t){return 3===t.key})).value||0),s.data.grades.find((function(t){return 88===t.key}))&&(b=s.data.grades.find((function(t){return 88===t.key})).value||0),h=f+g+v+b;var p={title:[{text:"满意",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!1,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#FFC246","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:f,name:JSON.stringify(f),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-f,name:" "}]}]};p&&a.setOption(p);var m={title:[{text:"基本满意",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!1,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#07BEAA","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:g,name:JSON.stringify(g),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-g,name:" "}]}]};m&&n.setOption(m);var y={title:[{text:"不满意",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!0,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#B30505","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:v,name:JSON.stringify(v),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-v,name:" "}]}]};y&&i.setOption(y);var C={title:[{text:"谅解",left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!0,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:["#31C400","#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:b,name:JSON.stringify(b),label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:h-b,name:" "}]}]};l.setOption(C);var x=[],S=[];s.data.mettings.forEach((function(t){x.push(t.key),S.push(t.value)}));var O={xAxis:{type:"category",data:x},yAxis:{type:"value"},tooltip:{show:!0,formatter:"{b0}<br /> 统计数量：共{c0}条"},series:[{data:S,type:"bar",barMaxWidth:20,smooth:!0,itemStyle:{normal:{color:"#07BEAA",lineStyle:{color:"#07BEAA"}}}}]};O&&c.setOption(O);var E=[["amount","product"]];s.data.users.forEach((function(t){var e=[t.value,t.key]||!1;E.push(e)}));var w={dataset:{source:E},grid:{containLabel:!0},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},restore:{}}},tooltip:{show:!0,formatter:function(t,e,a){return"".concat(t.value[1],"<br /> 统计数量：共").concat(t.value[0],"条")}},xAxis:{name:"",type:"category",axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#dadada"}},axisLabel:{textStyle:{color:"#000"}}},series:[{type:"bar",barWidth:30,barCategoryGap:"-100%",encode:{x:"product",y:"amount"},itemStyle:{normal:{color:function(t){var e=["#07BEAA","#6C84E2"];return e[t.dataIndex%2]},label:{show:!0,position:"top",formatter:function(t){return t.value[0]+"条"},textStyle:{color:"black",fontSize:12}}}}}],dataZoom:{type:"slider",show:!0,startValue:0,endValue:10,handleSize:8}};w&&u.setOption(w),t.buildCategoriesChart(s),t.buildCompletedChart(s)}else t.$message.error(s.msg)})),Object(r["c"])().then((function(e){t.notifyList=e}))},buildCategoriesChart:function(t){var e=s["init"](this.$refs.categories),a=[["amount","product"]];t.data.categories.forEach((function(t){var e=[t.value,t.key]||!1;a.push(e)}));var n={dataset:{source:a},grid:{containLabel:!0},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},restore:{}}},xAxis:{name:"",type:"category",axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#dadada"}},axisLabel:{textStyle:{color:"#000"}}},tooltip:{show:!0,formatter:function(t,e,a){return"".concat(t.value[1]||"","<br /> 统计数量：共").concat(t.value[0],"条")}},series:[{type:"bar",barWidth:30,encode:{x:"product",y:"amount"},itemStyle:{normal:{color:function(t){var e=["#07BEAA","#6C84E2"];return e[t.dataIndex%2]},label:{show:!0,position:"top",formatter:function(t){return t.value[0]+"条"},textStyle:{color:"black",fontSize:12}}}}}]};e.setOption(n)},buildCompletedChart:function(t){var e=t.data.completedTyies,a=e.filter((function(t){return 1===t.key}))[0].value,n=e.filter((function(t){return 2===t.key}))[0].value,i=e.filter((function(t){return 3===t.key}))[0].value,r=e.filter((function(t){return 4===t.key}))[0].value,o=a+n+i+r;s["init"](this.$refs["resolvedDiv"]).setOption(this.getPieChartOptions(o,a,"已解决","#FFC246")),s["init"](this.$refs["plainingDiv"]).setOption(this.getPieChartOptions(o,n,"纳入计划","#07BEAA")),s["init"](this.$refs["explainDiv"]).setOption(this.getPieChartOptions(o,i,"解释","#31C400")),s["init"](this.$refs["referToDiv"]).setOption(this.getPieChartOptions(o,r,"留作参考","#B30505"))},getPieChartOptions:function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i={title:[{text:a,left:"center",bottom:"5%",textStyle:{color:"#000000",fontSize:"18"}}],series:[{type:"pie",radius:["50%","60%"],center:["50%","30%"],hoverAnimation:!1,avoidLabelOverlap:!1,startAngle:270,label:{show:!1,position:"center",formatter:"{b}",fontSize:20,fontWeight:"bold"},color:[n,"#E8E8E8"],emphasis:{scale:!1},labelLine:{show:!0},data:[{value:e,name:e+"",label:{show:!0,fontSize:"20",color:"#000000",fontWeight:"bold"}},{value:t-e,name:" "}]}]};return JSON.parse(JSON.stringify(i))},checkDetail:function(t){this.$router.push({name:"SuggestDetail",query:{id:t}})},btnExportAllSuggestsExcel:function(t){var e=this,a=null,n=null,i=sessionStorage.getItem("tag");if(1*t===1){var s=new Date;s.setDate(1),a=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),n=new Date(new Date(a.getFullYear(),a.getMonth()+1,1).getTime()-864e5)}Object(o["r"])(Object(f["e"])(a,"{y}/{m}/{d}"),Object(f["e"])(n,"{y}/{m}/{d}"),i).then((function(t){Object(f["c"])(t,e.tag+"_建议导出.xlsx")}))},btnExportManYiDuSuggestsExcel:function(){var t=null,e=null,a=sessionStorage.getItem("tag");Object(o["x"])(t,e,a).then((function(t){Object(f["c"])(t,"满意度建议导出.xlsx")}))},btnExportFirstUnitSuggestsExcel:function(){var t=null,e=null,a=sessionStorage.getItem("tag");Object(o["w"])(t,e,a).then((function(t){Object(f["c"])(t,"部门办理数量(简表)导出.xlsx")}))},btnExportFirstUnitDetailSuggestsExcel:function(){var t=null,e=null,a=sessionStorage.getItem("tag");Object(o["v"])(t,e,a).then((function(t){Object(f["c"])(t,"部门办理数量(详表)导出.xlsx")}))},btnExportCategorySuggestsExcel:function(){var t=null,e=null,a=sessionStorage.getItem("tag");Object(o["t"])(t,e,a).then((function(t){Object(f["c"])(t,"建议分类(简表)导出.xlsx")}))},btnExportCategoryDetailSuggestsExcel:function(){var t=null,e=null,a=sessionStorage.getItem("tag");Object(o["s"])(t,e,a).then((function(t){Object(f["c"])(t,"建议分类(详表)导出.xlsx")}))},btnExportCompletedTypeSuggestsExcel:function(){var t=null,e=null,a=sessionStorage.getItem("tag");Object(o["u"])(t,e,a).then((function(t){Object(f["c"])(t,"建议分类(主办单位 办结类型)导出.xlsx")}))},dowonLoadFile:function(t){window.open("/api/noticeBanner/download/".concat(t.id))}}},v=g,h=(a("adf0"),a("8913"),a("2877")),b=Object(h["a"])(v,n,i,!1,null,"66e5b365",null);e["default"]=b.exports},adf0:function(t,e,a){"use strict";a("b1fa")},b082:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"b",(function(){return c}));var n=a("b775");function i(t){return Object(n["a"])({url:"/noticeBanner",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/noticeBanner/".concat(t),method:"get"})}function r(t){return Object(n["a"])({url:"/noticeBanner",method:"post",data:t})}function o(t,e){return Object(n["a"])({url:"/noticeBanner/".concat(t),method:"put",data:e})}function c(t){return Object(n["a"])({url:"/noticeBanner/".concat(t),method:"DELETE"})}},b1fa:function(t,e,a){},cefc:function(t,e,a){},e350:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return s}));a("d3b7"),a("caad"),a("2532");var n=a("4360");function i(t){if(t&&t instanceof Array&&t.length>0){var e=n["a"].getters&&n["a"].getters.roles,a=t,i=e.some((function(t){return a.includes(t)}));return i}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}function s(t){if(t){var e=n["a"].getters&&n["a"].getters.code;return t===e}return console.error("部门编号为空"),!1}}}]);